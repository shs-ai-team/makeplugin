{
  "messages": [
    {
      "role": "consultant",
      "content": "Hi, I am Plugin Pal - your WordPress plugin assistant!\n To begin, please describe the plugin you want to create.",
      "requirements": {},
      "requirements_finalized": false
    },
    {
      "role": "user",
      "content": "I want a feedback form plugin. It should have 2 fields: Name and Message (limited to 150 words). The feedbacks can be given by anyone, and persist. below the form all the feedbacks anyone ever has submitted should be shown in a listview. Design it minimalisticlally and user friendly."
    },
    {
      "role": "consultant",
      "content": "Great\u2014got it. I\u2019ll create a simple, user\u2011friendly feedback form with Name and a 150\u2011word Message, and show all saved feedback right below it. I\u2019m starting the build now; please hold on while we generate your plugin.",
      "requirements_finalized": true,
      "requirements": {
        "name": "Simple Feedback Board",
        "description": "A minimal feedback form with a live list of all submissions.",
        "details": "Provide a clean, minimal form with two fields: Name and Message. Message is limited to 150 words; show a clear validation error if exceeded. Anyone (no login required) can submit. Each submission is saved and immediately appears below the form in a simple list view that displays all past feedback. The list should show each entry\u2019s Name and Message, with a straightforward, readable layout. Include clear success and error messages. The site owner can place this form-and-list section on any page. Keep styling minimal, accessible, and user-friendly, matching typical site fonts and spacing without heavy decoration."
      }
    },
    {
      "role": "developer",
      "content": "I've created your plugin, packaged as a zip, ready to download and install!. Here are some instructions on how to get started with it:\n'''\n# Instructions\nIn your WordPress dashboard go to Plugins > Add New > Upload Plugin, choose the ZIP we provided, install, and activate it. To display the feedback form and live list, edit any page or post and add the shortcode [simple_feedback_board] where you want it to appear. Publish/update the page and submit a test entry to confirm it shows instantly below the form.\n'''",
      "zip_id": 0,
      "raw_response": [
        "## Folder Structure\n```\nsimple-feedback-board/\n\u251c\u2500\u2500 assets/\n\u2502   \u251c\u2500\u2500 css/\n\u2502   \u2502   \u2514\u2500\u2500 style.css\n\u2502   \u2514\u2500\u2500 js/\n\u2502       \u2514\u2500\u2500 script.js\n\u251c\u2500\u2500 includes/\n\u2502   \u2514\u2500\u2500 class-sfb.php\n\u251c\u2500\u2500 languages/\n\u2502   \u2514\u2500\u2500 simple-feedback-board.pot\n\u251c\u2500\u2500 templates/\n\u2502   \u2514\u2500\u2500 index.html\n\u251c\u2500\u2500 readme.txt\n\u251c\u2500\u2500 simple-feedback-board.php\n\u2514\u2500\u2500 uninstall.php\n```\n\n",
        "\n```json\n{\n  \"simple-feedback-board/simple-feedback-board.php\": \"<?php\\n/**\\n * Plugin Name: Simple Feedback Board\\n * Description: A minimal feedback form with a live list of all submissions.\\n * Version: 1.0.0\\n * Author: makeplugin\\n * Text Domain: simple-feedback-board\\n * License: GPLv2 or later\\n * Requires at least: 5.2\\n * Requires PHP: 7.4\\n */\\n\\nif (!defined('ABSPATH')) {\\n    exit;\\n}\\n\\nif (!defined('SFB_VERSION')) {\\n    define('SFB_VERSION', '1.0.0');\\n}\\n\\nif (!defined('SFB_TEXT_DOMAIN')) {\\n    define('SFB_TEXT_DOMAIN', 'simple-feedback-board');\\n}\\n\\nif (!defined('SFB_PLUGIN_FILE')) {\\n    define('SFB_PLUGIN_FILE', __FILE__);\\n}\\n\\nif (!defined('SFB_PLUGIN_DIR')) {\\n    define('SFB_PLUGIN_DIR', plugin_dir_path(__FILE__));\\n}\\n\\nif (!defined('SFB_PLUGIN_URL')) {\\n    define('SFB_PLUGIN_URL', plugin_dir_url(__FILE__));\\n}\\n\\nfunction sfb_load_textdomain() {\\n    load_plugin_textdomain('simple-feedback-board', false, dirname(plugin_basename(__FILE__)) . '/languages');\\n}\\nadd_action('plugins_loaded', 'sfb_load_textdomain');\\n\\nrequire_once SFB_PLUGIN_DIR . 'includes/class-sfb.php';\\n\\nfunction sfb_init_plugin() {\\n    $GLOBALS['sfb_plugin'] = new SFB_Plugin();\\n}\\nadd_action('init', 'sfb_init_plugin');\\n\",\n  \"simple-feedback-board/includes/class-sfb.php\": \"<?php\\nif (!defined('ABSPATH')) {\\n    exit;\\n}\\n\\nclass SFB_Plugin {\\n    const POST_TYPE = 'sfb_feedback';\\n\\n    public function __construct() {\\n        add_action('init', array($this, 'register_post_type'));\\n        add_shortcode('simple_feedback_board', array($this, 'shortcode_render'));\\n        add_action('wp_ajax_sfb_submit', array($this, 'handle_submit'));\\n        add_action('wp_ajax_nopriv_sfb_submit', array($this, 'handle_submit'));\\n        add_action('wp_enqueue_scripts', array($this, 'register_assets'));\\n    }\\n\\n    public function register_post_type() {\\n        $labels = array(\\n            'name'                  => esc_html__('Feedback', 'simple-feedback-board'),\\n            'singular_name'         => esc_html__('Feedback', 'simple-feedback-board'),\\n            'add_new'               => esc_html__('Add New', 'simple-feedback-board'),\\n            'add_new_item'          => esc_html__('Add New Feedback', 'simple-feedback-board'),\\n            'edit_item'             => esc_html__('Edit Feedback', 'simple-feedback-board'),\\n            'new_item'              => esc_html__('New Feedback', 'simple-feedback-board'),\\n            'view_item'             => esc_html__('View Feedback', 'simple-feedback-board'),\\n            'search_items'          => esc_html__('Search Feedback', 'simple-feedback-board'),\\n            'not_found'             => esc_html__('No feedback found', 'simple-feedback-board'),\\n            'not_found_in_trash'    => esc_html__('No feedback found in Trash', 'simple-feedback-board'),\\n        );\\n\\n        $args = array(\\n            'labels'             => $labels,\\n            'public'             => false,\\n            'show_ui'            => true,\\n            'show_in_menu'       => true,\\n            'exclude_from_search'=> true,\\n            'publicly_queryable' => false,\\n            'has_archive'        => false,\\n            'rewrite'            => false,\\n            'supports'           => array('title', 'editor'),\\n            'capability_type'    => 'post',\\n        );\\n\\n        register_post_type(self::POST_TYPE, $args);\\n    }\\n\\n    public function register_assets() {\\n        wp_register_style(\\n            'sfb-style',\\n            SFB_PLUGIN_URL . 'assets/css/style.css',\\n            array(),\\n            SFB_VERSION\\n        );\\n\\n        wp_register_script(\\n            'sfb-script',\\n            SFB_PLUGIN_URL . 'assets/js/script.js',\\n            array('jquery'),\\n            SFB_VERSION,\\n            true\\n        );\\n    }\\n\\n    private function enqueue_assets() {\\n        wp_enqueue_style('sfb-style');\\n        wp_enqueue_script('sfb-script');\\n        wp_localize_script(\\n            'sfb-script',\\n            'SFBData',\\n            array(\\n                'ajaxUrl' => esc_url(admin_url('admin-ajax.php')),\\n                'nonce'   => wp_create_nonce('sfb_submit'),\\n                'strings' => array(\\n                    'success' => esc_html__('Thank you for your feedback!', 'simple-feedback-board')\\n                )\\n            )\\n        );\\n    }\\n\\n    public function shortcode_render($atts = array(), $content = '') {\\n        $this->enqueue_assets();\\n\\n        ob_start();\\n        $nonce_field = wp_create_nonce('sfb_submit');\\n        ?>\\n        <div class=\\\"sfb-wrap\\\" aria-live=\\\"polite\\\">\\n            <form id=\\\"sfb-form\\\" class=\\\"sfb-form\\\" method=\\\"post\\\" novalidate>\\n                <div class=\\\"sfb-field\\\">\\n                    <label for=\\\"sfb-name\\\"><?php echo esc_html__('Name', 'simple-feedback-board'); ?></label>\\n                    <input type=\\\"text\\\" id=\\\"sfb-name\\\" name=\\\"name\\\" required maxlength=\\\"120\\\" />\\n                </div>\\n                <div class=\\\"sfb-field\\\">\\n                    <label for=\\\"sfb-message\\\"><?php echo esc_html__('Message', 'simple-feedback-board'); ?></label>\\n                    <textarea id=\\\"sfb-message\\\" name=\\\"message\\\" rows=\\\"5\\\" required></textarea>\\n                    <div class=\\\"sfb-help\\\"><?php echo esc_html__('Limit: 150 words', 'simple-feedback-board'); ?></div>\\n                </div>\\n                <input type=\\\"hidden\\\" name=\\\"_sfb_nonce\\\" value=\\\"<?php echo esc_attr($nonce_field); ?>\\\" />\\n                <button type=\\\"submit\\\" class=\\\"sfb-submit\\\"><?php echo esc_html__('Send Feedback', 'simple-feedback-board'); ?></button>\\n                <div class=\\\"sfb-alert\\\" id=\\\"sfb-alert\\\" role=\\\"alert\\\" aria-live=\\\"assertive\\\" aria-atomic=\\\"true\\\"></div>\\n            </form>\\n\\n            <div class=\\\"sfb-list\\\" id=\\\"sfb-list\\\">\\n                <?php echo wp_kses_post($this->get_feedback_list_markup()); ?>\\n            </div>\\n        </div>\\n        <?php\\n        return ob_get_clean();\\n    }\\n\\n    private function get_feedback_list_markup() {\\n        $args = array(\\n            'post_type'      => self::POST_TYPE,\\n            'post_status'    => 'publish',\\n            'posts_per_page' => 20,\\n            'orderby'        => 'date',\\n            'order'          => 'DESC',\\n        );\\n        $q = new WP_Query($args);\\n\\n        ob_start();\\n        if ($q->have_posts()) {\\n            echo '<ul class=\\\"sfb-items\\\">';\\n            while ($q->have_posts()) {\\n                $q->the_post();\\n                $pid = get_the_ID();\\n                $name = get_the_title($pid);\\n                $message = get_post_field('post_content', $pid);\\n                echo '<li class=\\\"sfb-item\\\">';\\n                echo '<div class=\\\"sfb-item-name\\\">' . esc_html($name) . '</div>';\\n                echo '<div class=\\\"sfb-item-message\\\">' . nl2br(esc_html($message)) . '</div>';\\n                echo '</li>';\\n            }\\n            echo '</ul>';\\n            wp_reset_postdata();\\n        } else {\\n            echo '<p class=\\\"sfb-empty\\\">' . esc_html__('No feedback yet. Be the first to share!', 'simple-feedback-board') . '</p>';\\n        }\\n\\n        return ob_get_clean();\\n    }\\n\\n    public function handle_submit() {\\n        check_ajax_referer('sfb_submit', '_sfb_nonce');\\n\\n        $name    = isset($_POST['name']) ? sanitize_text_field(wp_unslash($_POST['name'])) : '';\\n        $message = isset($_POST['message']) ? wp_kses_post(wp_unslash($_POST['message'])) : '';\\n\\n        if ('' === $name) {\\n            wp_send_json_error(array(\\n                'message' => esc_html__('Please enter your name.', 'simple-feedback-board')\\n            ));\\n        }\\n\\n        if ('' === trim(wp_strip_all_tags($message))) {\\n            wp_send_json_error(array(\\n                'message' => esc_html__('Please enter a message.', 'simple-feedback-board')\\n            ));\\n        }\\n\\n        $word_count = str_word_count(wp_strip_all_tags($message));\\n        if ($word_count > 150) {\\n            /* translators: %d: maximum number of words allowed */\\n            $error = sprintf(esc_html__('Your message is too long. Maximum %d words.', 'simple-feedback-board'), 150);\\n            wp_send_json_error(array('message' => $error));\\n        }\\n\\n        $postarr = array(\\n            'post_type'    => self::POST_TYPE,\\n            'post_status'  => 'publish',\\n            'post_title'   => $name,\\n            'post_content' => wp_kses_post($message),\\n        );\\n\\n        $post_id = wp_insert_post($postarr, true);\\n\\n        if (is_wp_error($post_id)) {\\n            /* translators: %s: error message */\\n            $error = sprintf(esc_html__('Submission failed: %s', 'simple-feedback-board'), $post_id->get_error_message());\\n            wp_send_json_error(array('message' => $error));\\n        }\\n\\n        $item_markup  = '<li class=\\\"sfb-item\\\">';\\n        $item_markup .= '<div class=\\\"sfb-item-name\\\">' . esc_html($name) . '</div>';\\n        $item_markup .= '<div class=\\\"sfb-item-message\\\">' . nl2br(esc_html(wp_strip_all_tags($message))) . '</div>';\\n        $item_markup .= '</li>';\\n\\n        wp_send_json_success(array(\\n            'message' => esc_html__('Thank you for your feedback!', 'simple-feedback-board'),\\n            'item'    => $item_markup\\n        ));\\n    }\\n}\\n\",\n  \"simple-feedback-board/assets/css/style.css\": \"/* Basic, minimal, accessible styles for Simple Feedback Board */\\n.sfb-wrap{max-width:700px;margin:1.5rem auto;padding:0 1rem}\\n.sfb-form{margin-bottom:1.5rem}\\n.sfb-field{margin-bottom:1rem}\\n.sfb-field label{display:block;margin-bottom:0.375rem;font-weight:600}\\n.sfb-field input[type=\\\"text\\\"],.sfb-field textarea{width:100%;padding:0.5rem;border:1px solid #ccc;border-radius:4px;font:inherit}\\n.sfb-help{font-size:0.875rem;color:#666;margin-top:0.25rem}\\n.sfb-submit{display:inline-block;background:#2271b1;border:1px solid #1b5f8e;color:#fff;padding:0.5rem 0.75rem;border-radius:4px;cursor:pointer;font:inherit}\\n.sfb-submit:hover{background:#1b5f8e}\\n.sfb-alert{margin-top:0.75rem;padding:0.5rem;border-radius:4px;display:none}\\n.sfb-alert.sfb-success{display:block;background:#e6f7ed;color:#135f2f;border:1px solid #b7e0c5}\\n.sfb-alert.sfb-error{display:block;background:#fdeaea;color:#8a1f1f;border:1px solid #f5c2c2}\\n.sfb-list ul.sfb-items{list-style:none;margin:0;padding:0}\\n.sfb-item{padding:0.75rem 0;border-bottom:1px solid #eee}\\n.sfb-item-name{font-weight:600;margin-bottom:0.25rem}\\n.sfb-item-message{white-space:pre-wrap}\\n.sfb-empty{color:#666}\\n\",\n  \"simple-feedback-board/assets/js/script.js\": \"(function($){\\n    function setAlert(message, type){\\n        var $alert = $('#sfb-alert');\\n        $alert.removeClass('sfb-success sfb-error');\\n        if(type === 'success'){\\n            $alert.addClass('sfb-success');\\n        } else {\\n            $alert.addClass('sfb-error');\\n        }\\n        $alert.text(message).show();\\n    }\\n\\n    $(document).on('submit', '#sfb-form', function(e){\\n        e.preventDefault();\\n        var $form = $(this);\\n        var name = $.trim($('#sfb-name').val());\\n        var message = $.trim($('#sfb-message').val());\\n        var nonce = $('input[name=\\\"_sfb_nonce\\\"]', $form).val();\\n\\n        // Client-side word limit check for quick feedback\\n        var words = message.replace(/<[^>]*>/g, '').split(/\\\\s+/).filter(function(w){return w.length;});\\n        if(words.length > 150){\\n            setAlert(SFBData && SFBData.strings ? (SFBData.strings.tooLong || 'Your message is too long.') : 'Your message is too long.', 'error');\\n            return;\\n        }\\n\\n        $.ajax({\\n            url: SFBData.ajaxUrl,\\n            method: 'POST',\\n            dataType: 'json',\\n            data: {\\n                action: 'sfb_submit',\\n                name: name,\\n                message: message,\\n                _sfb_nonce: nonce\\n            }\\n        }).done(function(resp){\\n            if(resp && resp.success){\\n                setAlert(resp.data && resp.data.message ? resp.data.message : 'Success', 'success');\\n                // Prepend new item to list\\n                if(resp.data && resp.data.item){\\n                    var $list = $('#sfb-list ul.sfb-items');\\n                    if($list.length){\\n                        $list.prepend(resp.data.item);\\n                    } else {\\n                        $('#sfb-list').html('<ul class=\\\"sfb-items\\\">' + resp.data.item + '</ul>');\\n                    }\\n                }\\n                // Reset form\\n                $('#sfb-name').val('');\\n                $('#sfb-message').val('');\\n            } else {\\n                var msg = (resp && resp.data && resp.data.message) ? resp.data.message : 'Error';\\n                setAlert(msg, 'error');\\n            }\\n        }).fail(function(){\\n            setAlert('An unexpected error occurred. Please try again.', 'error');\\n        });\\n    });\\n})(jQuery);\\n\",\n  \"simple-feedback-board/uninstall.php\": \"<?php\\nif (!defined('WP_UNINSTALL_PLUGIN')) {\\n    exit;\\n}\\n\\n// Delete all feedback posts created by the plugin\\n$posts = get_posts(array(\\n    'post_type'      => 'sfb_feedback',\\n    'post_status'    => 'any',\\n    'numberposts'    => -1,\\n    'fields'         => 'ids',\\n    'suppress_filters' => true,\\n));\\n\\nif (!empty($posts) && is_array($posts)) {\\n    foreach ($posts as $pid) {\\n        wp_delete_post($pid, true);\\n    }\\n}\\n\",\n  \"simple-feedback-board/readme.txt\": \"=== Simple Feedback Board ===\\nContributors: makeplugin\\nTags: feedback, form, testimonials, comments, frontend submission, ajax\\nRequires at least: 5.2\\nTested up to: 6.8\\nStable tag: 1.0.0\\nRequires PHP: 7.4\\nLicense: GPLv2 or later\\n\\nA minimal feedback form with a live list of all submissions.\\n\\n== Description ==\\nProvide a clean, minimal form with two fields: Name and Message. Message is limited to 150 words; clear validation shows if exceeded. Anyone (no login required) can submit. Each submission is saved and immediately appears below the form in a simple list view that displays all past feedback. The list shows each entry\u2019s Name and Message, with a straightforward, readable layout. Include clear success and error messages. The site owner can place this form-and-list section on any page via the [simple_feedback_board] shortcode. Styling is minimal, accessible, and user-friendly.\\n\\n== Installation ==\\n1. Upload the plugin files to the /wp-content/plugins/simple-feedback-board directory, or install the plugin through the WordPress plugins screen directly.\\n2. Activate the plugin through the 'Plugins' screen in WordPress.\\n3. Add the shortcode [simple_feedback_board] to any page or post.\\n\\n== Frequently Asked Questions ==\\n= How do I display the form and list? =\\nUse the shortcode [simple_feedback_board] on any page or post.\\n\\n= Do users need to be logged in? =\\nNo. Anyone can submit feedback.\\n\\n= Can I change the styles? =\\nYes. Minimal CSS is included. You can override styles in your theme.\\n\\n== Changelog ==\\n= 1.0.0 =\\n* Initial release.\\n\\n== Upgrade Notice ==\\n= 1.0.0 =\\nInitial release.\\n\",\n  \"simple-feedback-board/languages/simple-feedback-board.pot\": \"msgid \\\"\\\"\\nmsgstr \\\"\\\"\\n\\\"Project-Id-Version: Simple Feedback Board 1.0.0\\\\n\\\"\\n\\\"Report-Msgid-Bugs-To: https://wordpress.org/support/plugin/simple-feedback-board\\\\n\\\"\\n\\\"POT-Creation-Date: 2025-08-23 00:00+0000\\\\n\\\"\\n\\\"MIME-Version: 1.0\\\\n\\\"\\n\\\"Content-Type: text/plain; charset=UTF-8\\\\n\\\"\\n\\\"Content-Transfer-Encoding: 8bit\\\\n\\\"\\n\\\"X-Generator: makeplugin\\\\n\\\"\\n\\n\",\n  \"simple-feedback-board/templates/index.html\": \"\"\n}\n```"
      ]
    }
  ]
}